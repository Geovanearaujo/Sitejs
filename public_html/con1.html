<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="conv.js" ></script>

    <script>
      const api_url = 'https://api.exchangeratesapi.io/latest';
      var BR;
      var US;
      var JP;
      var CH;
      var SK;
      
      async function getEXCHANGE(){
          const response = await fetch(api_url);
          const data = await response.json();
	  
          BR = data.rates.BRL;
          US = data.rates.USD;
          JP = data.rates.JPY;
          CH = data.rates.CNY;
          SK = data.rates.KRW;

          document.getElementById("br").innerHTML = BR;
          document.getElementById("us").innerHTML = US;
          document.getElementById("jp").innerHTML = JP;
          document.getElementById("cn").innerHTML = CH;
          document.getElementById("sk").innerHTML = SK;
      }
    </script>

</head>

<body onload="getEXCHANGE()">

<script>

function insert(num) {
    document.form.textView.value = document.form.textView.value + num
}
function equal() {
    var exp = document.form.textView.value;
    if (exp) {
        document.form.textView.value = eval(exp);
    }
}

function clean() {
    document.form.textView.value = '';
    console.log("Limpando a tela")
}

function backspace() {
    var exp = document.form.textView.value;
    document.form.textView.value = exp.substring(0, exp.length - 1);
}

function myFunction() {
    document.getElementById("1").value = document.form.textView.value
    console.log("Aqui dentro...");
}

function det() {
    if(document.getElementById("20").value=="21"){
        converter1();
    }
    else if(document.getElementById("20").value=="22"){
        converter2();
    }
    else if(document.getElementById("20").value=="23"){
        converter3();
    }
    else if(document.getElementById("20").value=="24"){
        converter4();
    }
    else{
        converter5();
    }
}

function converter1(){
    if(document.getElementById("10").value=="11"){
        document.getElementById("2").value = ((US/BR)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="12"){
        document.getElementById("2").value = document.getElementById("1").value;

    }
    else if(document.getElementById("10").value=="13"){
        document.getElementById("2").value = ((US/JP)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="14"){
        document.getElementById("2").value = ((US/CH)*(document.getElementById("1").value)).toFixed(4);
    }
    else {        
        document.getElementById("2").value = ((US/SK)*(document.getElementById("1").value)).toFixed(4);
    }
    console.log("Dentro do converter 1");
}

function converter2(){
    if(document.getElementById("10").value=="11"){
        document.getElementById("2").value = ((JP/BR)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="12"){
        document.getElementById("2").value = ((JP/US)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="13"){
        document.getElementById("2").value = document.getElementById("1").value;
    }
    else if(document.getElementById("10").value=="13"){
        document.getElementById("2").value = ((JP/CH)*(document.getElementById("1").value)).toFixed(4);
    }
    else{
        document.getElementById("2").value = ((JP/SK)*(document.getElementById("1").value)).toFixed(4);
    }
    console.log("Dentro do converter 2");
}

function converter3(){
    if(document.getElementById("10").value=="11"){
        document.getElementById("2").value = ((CH/BR)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="12"){
        document.getElementById("2").value = ((CH/US)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="13"){
        document.getElementById("2").value = ((CH/JP)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="14"){
        document.getElementById("2").value = document.getElementById("1").value;
    }
    else {
        document.getElementById("2").value = ((CH/SK)*(document.getElementById("1").value)).toFixed(4);
    }
    console.log("Dentro do converter 3");
}

function converter4(){
    if(document.getElementById("10").value=="11"){
        document.getElementById("2").value = ((SK/BR)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="12"){
        document.getElementById("2").value = ((SK/US)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="13"){
        document.getElementById("2").value = ((SK/JP)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="14"){
        document.getElementById("2").value = ((SK/CH)*(document.getElementById("1").value)).toFixed(4);
    }
    else{
        document.getElementById("2").value = document.getElementById("1").value;
    }
    console.log("Dentro do converter 4");
}

function converter5(){
    if(document.getElementById("10").value=="11"){
        document.getElementById("2").value = document.getElementById("1").value;
    }
    else if(document.getElementById("10").value=="12"){
        document.getElementById("2").value = ((BR/US)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="13"){
        document.getElementById("2").value = ((BR/JP)*(document.getElementById("1").value)).toFixed(4);
    }
    else if(document.getElementById("10").value=="14"){
        document.getElementById("2").value = ((BR/CH)*(document.getElementById("1").value)).toFixed(4);
    }
    else {
        document.getElementById("2").value = ((BR/SK)*(document.getElementById("1").value)).toFixed(4);
    }
    console.log("Dentro do converter 5");
}
</script>

<style>
    .conteudo {
	width:610px;
	height:400px;
	border:4px solid #fff;
    background-image: url("bg7.jpg");
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-position: 56% 40%;
	}

</style>



<div class="conteudo">
    <br><br><fieldset style="background-color:#081f00">
    <div style="background-color: white; text-align: center;">

    </div>

        <select id="10">
            <option></option>
            <option value="11">BRL Real</option>
            <option value="12">USD Dolar</option>
            <option value="13">JPY Yene</option>
            <option value="14">RMB Yuan</option>
            <option value="15">KRW Won</option>
        </select>

        <input type="text" id="1">
        <label for="nome">&#8646</label>
        <select id="20">
            <option></option>
            <option value="21">USD Dolar</option>
            <option value="22">JPY Yene</option>
            <option value="23">RMB Yuan</option>
            <option value="24">KRW Won</option>
            <option value="25">BRL Real</option>
        </select>
        <input type="text" id="2">
        <input type="button" value="Converter" onclick="det()">
    </fieldset><br><br>

    <fieldset class="main" style="background-color: #081f00; margin-left: 200px; margin-right: 430px;">
        <form name="form">
            <input class="textView" style=" width:135px; border-top-width: 3px; border-top-style: solid;" id="fild" name="textView">
        </form>
        <table>
            <tr>
                <td><input class="button backspace" style="width:28px; border-top-width: 3px; border-top-style: solid;" type="button" value=&#8709
                    onclick="clean()"></td>
                <td><input class="button yl" style="width:28px; border-top-width: 3px; border-top-style: solid;" type="button" value=&#8592
                    onclick="backspace()"></td>
                <td><input class="button yl" style="border-top-width: 3px; border-top-style: solid;" type="button" value= &#247 onclick="insert('/')"></td>
                <td><input class="button yl" style="border-top-width: 3px; border-top-style: solid;" type="button" value= &#215 onclick="insert('*')"></td>
            </tr>
            <tr>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="7" onclick="insert(7)"></td>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="8" onclick="insert(8)"></td>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="9" onclick="insert(9)"></td>
                <td><input class="button yl" style="width:28px; border-top-width: 3px; border-top-style: solid;" type="button" value="-" onclick="insert('-')"></td>
            </tr>
            <tr>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="4" onclick="insert(4)"></td>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="5" onclick="insert(5)"></td>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="6" onclick="insert(6)"></td>
                <td><input class="button yl" style="border-top-width: 3px; border-top-style: solid;" type="button" value="+" onclick="insert('+')"></td>
            </tr>
            <tr>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="1" onclick="insert(1)"></td>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="2" onclick="insert(2)"></td>
                <td><input class="button" style="border-top-width: 3px; border-top-style: solid;" type="button" value="3" onclick="insert(3)"></td>
                <td rowspan="5"><input style="height: 53px; border-top-width: 3px; border-top-style: solid;" class="button yl" type="button"
                value="=" onclick="equal()"></td>
            </tr>
            <tr>
                <td colspan="2"><input style="width: 68px; border-top-width: 3px; border-top-style: solid;" class="button" type="button" value="0"
                onclick="insert(0)">
                </td>
                <td><input class="button" style="width:28px; border-top-width: 3px; border-top-style: solid;" type="button" value="." onclick="insert('.')"></td>
            </tr>
        </table>
        <td rowspan="6"><input style="width: 140px; border-top-width: 3px; border-top-style: solid;" type="button" value="send"
            onclick="myFunction()"></td>
    </fieldset>
    
</div>

</body>
</html>